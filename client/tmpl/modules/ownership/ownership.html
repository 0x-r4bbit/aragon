<template name="module_ownership">
  <div id="module_ownership" class="nine wide column">
    <div class="ui secondary menu">
      <div class="fitted item">
        <div class="ui left icon input">
          <i class="search link icon"></i>
          <input type="text" placeholder="Search">
        </div>
      </div>
      <div class="right menu">
        <div class="fitted item">
          <button class="ui primary button" id="issueShares">
            <i class="plus icon"></i>
            Issue shares
          </button>
        </div>
        <div class="fitted item">
          <button class="ui primary button" id="assignShares">
            <i class="user icon"></i>
            Assign shares
          </button>
        </div>
      </div>
    </div>
    {{#each stocks}}
    <h3 class="ui centered header">{{name}} ({{symbol}})</h3>
    <div class="ui hidden divider"></div>
    <table class="ui very basic selectable celled table">
      <thead>
        <tr>
          <th>Shareholder</th>
          <th>Type</th>
          <th>#</th>
        </tr>
      </thead>
      <tbody>
        {{#each allShareholders this }}
        <tr data-shareholder="{{ shareholder }}">
          <td>
            <h4 class="ui image header">
              <img src="http://placekitten.com/g/32/32" class="ui mini circular image">
              <div class="content">
                {{ shareholder }}
              </div>
            </h4>
          </td>
          <td>
            {{ stock.symbol }}
          </td>
          <td>
            {{ balance stock.address shareholder }}
          </td>
        </tr>
        {{/each}}
      </tbody>
      Not assigned shares: {{ balance address company }}
    </table>
    {{/each}}
  </div>
  <div class="seven wide lightgrey column">
    {{> Template.dynamic template=rightSection data=context }}
  </div>
</template>
