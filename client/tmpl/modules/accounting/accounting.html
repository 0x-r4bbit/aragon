<template name="Module_Accounting">
  <div id="Module_Accounting" class="main column">
    <div class="ui secondary menu">
      <div class="fitted item">
        <div class="ui left icon input">
          <i class="link icon">search</i>
          <input type="text" placeholder="Search" value="{{TemplateVar.get 'searchString'}}" id="searchInput">
        </div>
      </div>
      <div class="right menu">
        <div class="fitted item">
          <a class="ui primary button" href="/accounting/payments/new">
            <i class="icon">add</i>
            New payment
          </a>
        </div>
      </div>
    </div>

    <div class="ui hidden divider"></div>
    <table class="ui very basic sortable selectable striped padded fixed table">
      <thead>
        <tr>
          <th>Concept</th>
          <th>Recipient</th>
          <th>Amount</th>
          <th>Recurring</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody data-updated="{{ updated }}">
        {{#each transactions}}
        {{#if $contains (TemplateVar.get 'searchString') concept }}
        <tr data-transaction="{{ transactionIndex }}">
          <td>
            {{ concept }}
          </td>
          <td>
            {{ entityName to }}
          </td>
          <td>
            {{ ether amount }} ETH
          </td>
          <td>
            {{ #if recurring }}
              Yes
            {{ else }}
              No
            {{ /if }}
          </td>
          <td>
            {{ #if recurring }}
              {{ formatDate lastTransactionDate }}
            {{ else }}
              {{ formatDate timestamp }}
            {{ /if }}
          </td>
        </tr>
        {{/if}}
        {{/each}}
      </tbody>
    </table>
  </div>

  {{> Template.dynamic template=(TemplateVar.get 'rightSection') }}

  <!--
  <div class="field">
    <div class="two fields">
      <div class="field">
        <label>First Name</label>
        <input type="text" name="firstName">
      </div>
      <div class="field">
        <label>Last Name</label>
        <input type="text" name="lastName">
      </div>
    </div>
  </div>
  <div class="field">
    <div class="three fields">
      <div class="field">
        <label>Date of birth</label>
        <input type="text" name="birth">
      </div>
      <div class="field">
        <label>Phone number</label>
        <input type="text" name="phone">
      </div>
      <div class="field">
        <label>Email</label>
        <input type="text" name="email">
      </div>
    </div>
  </div>
  <div class="field">
    <label>Address</label>
    <input type="text" name="address">
  </div>
  <div class="field">
    <div class="three fields">
      <div class="field">
        <label>ZIP Code</label>
        <input type="text" name="zipCode">
      </div>
      <div class="field">
        <label>City</label>
        <input type="text" name="city">
      </div>
      <div class="field">
        <label>Country</label>
        <input type="text" name="country">
      </div>
    </div>
  </div>
  -->
</template>
